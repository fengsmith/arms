# 创建数据集 {#concept_47320_zh .concept}

数据集定义了监控任务中采集日志的预聚合方式和持久化存储。在 ARMS 中，通过简单的交互，就可以获得 ARMS 系统针对多维数据分析优化后的数据组织和存储方式。

## 前提条件 {#prereq_r4c_rft_tcb .section}

已有自定义监控任务。

## 背景信息 { .section}

创建多维数据集是指将日志中的流式数据转化为结构化的模型数据存储，并提供页面查询方式和 API 查询方式。在 ARMS 中进行简单的操作，就可以获得 ARMS 系统关于多维数据分析优化的数据组织和存储模式。

多维数据集在概念上是一个超立方块（Hypercube），而在物理存储上可以理解为一个多维数组。维的属性值被映射为多维数组的下标值或下标值的范围，而指标数据作为多维数的值存储在数据的单元中。可以将维看作自变量，将指标数据看作因变量。

维度有以下使用限制：

-   最多可以设置三个维度的数据集。
-   维度之间是有层级关系的。例如，要查看第二个维度，必须要先选择第一个维度的属性。维度类似于一个树状结构。维度的定义需要规划，例如，将省作为第一维度，市作为第二维度，区作为第三维度，市民消费情况作为指标数据。
-   除非有特殊场景需求，否则请不要一同定义两个完全不相关的维度，例如“地域”和“物品类型”。
-   ARMS 提供下钻功能，可以从汇总数据深入到细节数据进行观察或新增维度。钻取的目的是改变维度层次、变换分析粒度。

## 操作步骤 { .section}

1.  在控制台左侧导航栏中选择**自定义监控** \> **监控任务管理**。

2.  在监控任务管理页面找到目标监控任务，单击右侧的**编辑**，并进入数据集与报警配置页面。

    **说明：** 如果单击**编辑**之前，自定义监控任务正在运行，则会直接进入数据集与报警配置页面。如果自定义监控任务不在运行，则需要通过单击**下一步**导航至数据集与报警配置页面。

3.  在**数据集设置**区域框单击**添加数据集**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/152304/155496240543761_zh-CN.png) 

4.  在添加数据集对话框中输入相关信息，并单击**保存**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/152304/155496240543762_zh-CN.png) 

    -   **筛选**：只有满足该筛选条件的数据集会被计算在内。

        **说明：** **同时满足下述规则**对应**且**的关系，**满足下述一条规则**对应**或**的关系。

    -   **指标**： 一般为数字类型，是衡量目标的度量，类似于多维联机分析处理（Multi-Dimensional OLAP）中的值。ARMS 的指标对应于实时计算后的 Count、Max、Sum、Count Distinct 等值。

    -   **复合指标**：可以对数据集的**指标**结果进行加减乘除等运算。

    -   **时间字段**：日志切分对应的时间字段，是实时监控的最基础维度。

    -   **维度**：是衡量目标的思维角度。例如按班级统计学生人数，那么班级就是维度。相当于 SQL 语言中的GROUP BY。ARMS 的维度分通用类型和下钻类型，详情参见[通用维度与下钻维度](cn.zh-CN/自定义监控/基本概念/通用维度与下钻维度.md#)。

    -   **采样字段：**是指这一分钟内对某个字段数据的采样，便于在监控异常时根据当时的样本排查问题。

5.  单击**保存**和**完成配置**。

6.  回到监控任务管理页面，为目标监控任务单击**启动**。

    设置的报警生效。


## 参考 {#section_wpm_l2s_n2b .section}

-   [创建报警](cn.zh-CN/自定义监控/创建监控任务/创建报警.md#)
-   [查询数据集](cn.zh-CN/自定义监控/使用教程/查询数据集.md#)
-   [通用维度与下钻维度](cn.zh-CN/自定义监控/基本概念/通用维度与下钻维度.md#)

